<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>NYC Map</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<style>
html,body{margin:0;padding:0;height:100%;width:100%;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;}
#map{height:100vh;width:100%;}

/* Version box */
.version-box{
  position:absolute;
  top:10px;
  right:10px;
  background:white;
  padding:4px 8px;
  border-radius:10px;
  box-shadow:0 3px 10px rgba(0,0,0,0.15);
  font-weight:600;
  font-size:12px;
  z-index:1000;
}

/* My Location button under version */
#refreshLocation{
  position:absolute;
  top:40px; 
  right:10px;
  background:#007bff;
  color:#fff;
  border:none;
  padding:4px 8px;
  border-radius:10px;
  cursor:pointer;
  box-shadow:0 3px 10px rgba(0,0,0,0.15);
  font-size:12px;
  z-index:1000;
}
#refreshLocation:hover{background:#0056b3;}

/* Location list */
#location-container{
  position:absolute;
  top:70px;
  right:10px;
  width:200px;
  max-height:calc(100vh - 120px); /* stay above route info */
  background:white;
  border-radius:12px;
  box-shadow:0 4px 12px rgba(0,0,0,0.15);
  display:flex;
  flex-direction:column;
  z-index:1000;
  font-size:14px;
}
#location-header{
  padding:10px;
  background:#f0f0f0;
  cursor:pointer;
  border-radius:12px 12px 0 0;
  font-weight:bold;
  border-bottom:1px solid #ccc;
}
#searchBox{
  display:none;
  margin:5px auto;
  padding:5px 7px;
  border-radius:5px;
  border:1px solid #ccc;
  font-size:12px;
  outline:none;
  background:white;
  width:calc(100% - 20px);
}
#locationList{
  overflow-y:auto;
  flex:1;
  padding:0;
  margin:0;
  display:none;
  border-top:1px solid #ccc;
}
.category-title{
  font-weight:bold;
  padding:5px 10px;
  border-bottom:1px solid #ddd;
  background:#f9f9f9;
}
.location-item{
  cursor:pointer;
  padding:5px 10px;
  border-bottom:1px solid #eee;
  transition:background 0.15s;
}
.location-item:last-child{border-bottom:none;}
.location-item:hover{background:#eaeaea;}

/* Route info */
#routeInfo{
  position:absolute;
  bottom:5px;
  left:50%;
  transform:translateX(-50%);
  background:white;
  padding:8px 12px;
  border-radius:10px;
  box-shadow:0 4px 12px rgba(0,0,0,0.15);
  font-size:12px;
  z-index:1000;
  max-width:95%;
  line-height:1.2em;
  max-height:3.6em;
  overflow:hidden;
  white-space:pre-wrap;
  text-overflow:ellipsis;
}

/* Mobile adjustments */
@media (max-width:600px){
  #location-container{width:180px;top:70px;}
  #searchBox{width:calc(100% - 20px);}
  .version-box{font-size:11px;padding:3px 6px;}
  #refreshLocation{font-size:11px;padding:3px 6px;top:40px;right:10px;}
}
</style>
</head>
<body>
<div id="map"></div>
<div class="version-box" id="versionBox">NYC MAP 23/12/2025 v8.7</div>
<button id="refreshLocation">My Location</button>

<div id="location-container">
  <div id="location-header">Locations â–¼</div>
  <input type="text" id="searchBox" placeholder="Search..." />
  <div id="locationList"></div>
</div>

<div id="routeInfo">Select a location to see walking distance & time</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
